config BR2_PACKAGE_OPEN_ISCSI
	bool "open-iscsi"
	depends on BR2_USE_MMU # fork()
	depends on BR2_TOOLCHAIN_HAS_THREADS # pthread
	depends on !BR2_STATIC_LIBS # kmod
	select BR2_PACKAGE_OPENSSL
	select BR2_PACKAGE_OPEN_ISCSI_ISCSISTART \
		if !BR2_PACKAGE_OPEN_ISCSI_ISCSID
	select BR2_PACKAGE_KMOD
	select BR2_PACKAGE_UTIL_LINUX
	select BR2_PACKAGE_UTIL_LINUX_LIBS
	select BR2_PACKAGE_UTIL_LINUX_LIBMOUNT
	help
	  iSCSI tools for Linux.

	  https://www.open-iscsi.com

if BR2_PACKAGE_OPEN_ISCSI

config BR2_PACKAGE_OPEN_ISCSI_ISCSID
	bool "iscsid"
	default y
	select BR2_PACKAGE_OPEN_ISNS
	help
	  iscsid implements the control path of iSCSI protocol, plus
	  some management facilities.

config BR2_PACKAGE_OPEN_ISCSI_ISCSISTART
	bool "iscsistart"
	help
	  iscsistart is used for attaching to iSCSI targets during
	  bootup.

endif

comment "open-iscsi needs a toolchain w/ threads, dynamic library"
	depends on BR2_USE_MMU
	depends on !BR2_TOOLCHAIN_HAS_THREADS || BR2_STATIC_LIBS
